                                                     -*- coding: utf-8 -*-
Changes for APR 1.4.0

  *) SECURITY: CVE-2009-2412 (cve.mitre.org)
     Fix overflow in pools and rmm, where size alignment was taking place.
     [Matt Lewis <mattlewis@google.com>, Sander Striker]

  *) apr_temp_dir_get() now checks the TMPDIR environment variable
     first, instead of third. [Jim Jagielski]

  *) The implementation of expand_array() in tables/apr_hash.c allocates
     a new bucket array, without making any attempt to release the memory 
     allocated for the previous bucket array. That wastes memory: if the 
     hash table grows exponentially, this strategy wastes O(n) extra memory.
     Use a subpool instead. [Neil Conway <nrc cs.berkeley.edu>]

  *) Posix semaphores can now be named and used as named semaphores.
     [Jim Jagielski]

  *) Better handling of APR_OFF_T_FMT for Darwin 10 depending on -arch
     setting of compiler. [Jim Jagielski]

  *) Add comments describing the thread-safety properties of apr_pool_t.
     [Neil Conway nrc cs.berkeley.edu]

  *) Make sure that "make check" is used in the RPM spec file, consistent
     with apr-util. [Graham Leggett]

  *) Pass default environment to testflock, testoc, testpipe, testsock,
     testshm and testproc children, so that tests run when APR is compiled
     with Intel C Compiler. [Bojan Smojver]

  *) More elaborate detection for dup3(), accept4() and epoll_create1().
     [Chetan Reddy <chetanreddy gmail.com>, Bojan Smojver]

  *) On Linux/hppa flock() returns EAGAIN instead of EWOULDBLOCK. This
     causes proc mutex failures.
     [Stefan Fritsch <sf sfritsch.de>]

  *) Add apr_file_sync() and apr_file_datasync() calls.
     [Bojan Smojver]

  *) Set CLOEXEC flags where appropriate. Either use new O_CLOEXEC flag and
     associated functions, such as dup3(), accept4(), epoll_create1() etc.,
     or simply set CLOEXEC flag using fcntl().  PR 46425.  [Stefan Fritsch
     <sf sfritsch.de>, Arkadiusz Miskiewicz <arekm pld-linux.org>]

  *) Fix compilation error on systems that do not have IPV6.
     PR 46601 [Julien Charbon <jch 4js.com>]

  *) apr_pollset_wakeup() on Windows: Fix core caused by closing the
     file_socket_pipe with standard file_close. 
     [Arsen Chaloyan, Mladen Turk]

  *) apr_socket_sendfile() on Solaris: Fix handling of files truncated
     after the sender determines the length.  (This fixes a busy loop in 
     httpd when a file being served is truncated.)  [Jeff Trawick]

  *) Fix documentation for apr_temp_dir_get().
     PR 46303  [Carlo Marcelo Arenas Belon <carenas sajinet.com.pe>]

  *) Add AC_MSG_RESULT after AC_MSG_CHECKING.
     PR 46427  [Rainer Jung <rainer.jung kippdata.de>]

  *) Win32: Do not error out on apr_pollset_poll() when there are no sockets.
     [Justin Erenkrantz]

  *) Intruduce apr_hash_do for iterating over a hash table.
     [Mladen Turk]

  *) Rename apr_pool_create_core to apr_pool_create_unmanaged and
     deprecate the old API name. It better reflects the scope and usage
     of this function. [Mladen Turk]

  *) Use proper return code for fcntl-based apr_proc_mutex_trylock() 
     on platforms that return EACCES instead of EAGAIN when the lock
     is already held (AIX, HP-UX).
     [Eric Covener]
 
  *) Make sure WIN32 behaves the same as posix for file backed
     shared memory by removing the file on cleanup/remove.
     [Mladen Turk]

  *) Fix Solaris poll failure.  PR 43000
     [Henry Jen <henryjen ztune.net>]

  *) Introduce apr_pollset_wakeup() for interrupting
     the blocking apr_pollset_poll call.
     [Mladen Turk]

  *) Implement apr_proc_wait_all_procs for windows.
     [Mladen Turk]

  *) Add apr_file_link() function. PR 44841 
     [Mark Heily <mark heily.com>]


Changes for APR 1.3.x and later:

  *) http://svn.apache.org/viewvc/apr/apr/branches/1.3.x/CHANGES?view=markup

Changes for APR 1.2.x and later:

  *) http://svn.apache.org/viewvc/apr/apr/branches/1.2.x/CHANGES?view=markup

Changes for APR 1.1.x and later:

  *) http://svn.apache.org/viewvc/apr/apr/branches/1.1.x/CHANGES?view=markup

Changes for APR 1.0.x and later:

  *) http://svn.apache.org/viewvc/apr/apr/branches/1.0.x/CHANGES?view=markup

Changes for APR 0.9.x and later/earlier:

  *) http://svn.apache.org/viewvc/apr/apr/branches/0.9.x/CHANGES?view=markup
