#!/bin/sh
##
##  mm-config -- MM library build configuration utility
##  Copyright (c) 1999 Ralf S. Engelschall, All Rights Reserved. 
##
DIFS=' 	
'

prefix="@prefix@"
exec_prefix="@exec_prefix@"

mm_prefix="$prefix"
mm_libdir="@libdir@"
mm_includedir="@includedir@"
mm_mandir="@mandir@"
mm_cflags="@CFLAGS@"
mm_ldflags="@LDFLAGS@"
mm_libs="@LIBS@"
mm_version="@MM_VERSION_STR@"

help=no
version=no

usage="$0 [--help] [--version] [--cflags] [--ldflags] [--libs]"
if [ $# -eq 0 ]; then
    echo "$0:Error: Invalid option" 1>&2
    echo "$0:Usage: $usage" 1>&2
    exit 1
fi
prev=''
OIFS="$IFS" IFS="$DIFS"
for option
do
    if [ ".$prev" != . ]; then
        eval "$prev=\$option"
        prev=""
        continue
    fi
    case "$option" in
        -*=*) optarg=`echo "$option" | sed 's/[-_a-zA-Z0-9]*=//'` ;;
           *) optarg='' ;;
    esac
    case "$option" in
        --help|-h) 
            echo "$0:Usage: $usage"
            exit 1
            ;;
        --version|-v)
            echo "MM $mm_version"
            exit 0
            ;;
        --cflags)
            echo "-I$mm_includedir"
            ;;
        --ldflags)
            echo "-L$mm_libdir"
            ;;
        --libs)
            echo "-lmm"
            ;;
        * )             
            echo "$0:Error: Invalid option" 1>&2
            echo "$0:Usage: $usage" 1>&2
            exit 1;
            ;;
    esac
done
IFS="$OIFS"
if [ ".$prev" != . ]; then
    echo "$0:Error: missing argument to --`echo $prev | sed 's/_/-/g'`" 1>&2
    exit 1
fi

