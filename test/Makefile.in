# Generated automatically from Makefile.in by configure.
#CFLAGS=$(OPTIM) $(CFLAGS1) $(EXTRA_CFLAGS)
#LIBS=$(EXTRA_LIBS) $(LIBS1)
#INCLUDES=$(INCLUDES1) $(INCLUDES0) $(EXTRA_INCLUDES)
#LDFLAGS=$(LDFLAGS1) $(EXTRA_LDFLAGS)

RM=@RM@
CC=@CC@
RANLIB=@RANLIB@
CFLAGS=@CFLAGS@ @OPTIM@ 
LIBS=-L.. -lapr @LIBS@ 
LDFLAGS=@LDFLAGS@ $(LIBS)
INCDIR=../include
INCLUDES=-I$(INCDIR)

TARGETS= testfile@EXEEXT@ \
	testproc@EXEEXT@ \
	testsock@EXEEXT@ \
	testthread@EXEEXT@ \
	testtime@EXEEXT@ \
	testargs@EXEEXT@ \
	testcontext@EXEEXT@ \
	ab@EXEEXT@ \
	htdigest@EXEEXT@ \
	testmmap@EXEEXT@ \
	testshmem@EXEEXT@ \
	testpipe@EXEEXT@ \
	testdso@EXEEXT@ \
	mod_test.so

OBJS= testfile.o \
	testproc.o \
	testsock.o \
	testthread.o \
	testtime.o \
        testargs.o \
        testcontext.o \
	ab_apr.o \
	htdigest.o \
	testmmap.o \
	testdso.o \
	mod_test.o

.c.o:
	$(CC) -c $(CFLAGS) $(INCLUDES) $<

all: $(TARGETS) 

testfile@EXEEXT@: testfile.o
	$(CC) $(CFLAGS) testfile.o -o testfile@EXEEXT@ $(LDFLAGS) 

testdso@EXEEXT@: testdso.o
	$(CC) $(CFLAGS) --export-dynamic -fPIC testdso.o -o testdso@EXEEXT@ $(LDFLAGS) 

mod_test.so: mod_test.o
	$(CC) -shared mod_test.o -o mod_test.so 

testargs@EXEEXT@: testargs.o
	$(CC) $(CFLAGS) testargs.o -o testargs@EXEEXT@ $(LDFLAGS) 

testcontext@EXEEXT@: testcontext.o
	$(CC) $(CFLAGS) testcontext.o -o testcontext@EXEEXT@ $(LDFLAGS) 

ab@EXEEXT@: ab_apr.o
	$(CC) $(CFLAGS) ab_apr.o -o ab@EXEEXT@ $(LDFLAGS)

htdigest@EXEEXT@: htdigest.o
	$(CC) $(CFLAGS) htdigest.o -o htdigest@EXEEXT@ $(LDFLAGS)

testproc@EXEEXT@: testproc.o
	$(CC) $(CFLAGS) testproc.o -o testproc@EXEEXT@ $(LDFLAGS)

testthread@EXEEXT@: testthread.o
	$(CC) $(CFLAGS) testthread.o -o testthread@EXEEXT@ $(LDFLAGS)

testsock@EXEEXT@: testsock.o client.o server.o 
	$(CC) $(CFLAGS) testsock.o -o testsock@EXEEXT@  $(LDFLAGS)
	$(CC) $(CFLAGS) server.o -o server@EXEEXT@ $(LDFLAGS) 
	$(CC) $(CFLAGS) client.o -o client@EXEEXT@ $(LDFLAGS)

testtime@EXEEXT@: testtime.o
	$(CC) $(CFLAGS) testtime.o -o testtime@EXEEXT@ $(LDFLAGS)

testmmap@EXEEXT@: testmmap.o
	$(CC) $(CFLAGS) testmmap.o -o testmmap@EXEEXT@ $(LDFLAGS)

testshmem@EXEEXT@: testshmem.o
	$(CC) $(CFLAGS) testshmem.o -o testshmem@EXEEXT@ $(LDFLAGS)

testpipe@EXEEXT@: testpipe.o
	$(CC) $(CFLAGS) testpipe.o -o testpipe@EXEEXT@ $(LDFLAGS)

clean:
	$(RM) -f *.o *.a *.so $(TARGETS)

distclean: clean
	-$(RM) -f Makefile

$(OBJS): Makefile

#
# We really don't expect end users to use this rule.  It works only with
# gcc, and rebuilds Makefile.tmpl.  You have to re-run Configure after
# using it.
#
depend:
	cp Makefile.in Makefile.in.bak \
	    && sed -ne '1,/^# DO NOT REMOVE/p' Makefile.in > Makefile.new \
	    && gcc -MM $(INCLUDES) $(CFLAGS) *.c >> Makefile.new \
	    && sed -e '1,$$s: $(INCDIR)/: $$(INCDIR)/:g' \
	           -e '1,$$s: $(OSDIR)/: $$(OSDIR)/:g' Makefile.new \
		> Makefile.in \
	    && rm Makefile.new

# DO NOT REMOVE
ab_apr.o: ab_apr.c ../include/apr_network_io.h \
 ../include/apr_general.h ../include/apr.h ../include/apr_errno.h \
 ../include/apr_file_io.h ../include/apr_time.h \
 ../include/apr_getopt.h
abc.o: abc.c ../include/apr_file_io.h ../include/apr_general.h \
 ../include/apr.h ../include/apr_errno.h ../include/apr_time.h
client.o: client.c ../include/apr_network_io.h \
 ../include/apr_general.h ../include/apr.h ../include/apr_errno.h \
 ../include/apr_file_io.h ../include/apr_time.h /usr/include/errno.h
htdigest.o: htdigest.c ../include/apr_lib.h ../include/apr_general.h \
 ../include/apr.h ../include/apr_errno.h ../include/apr_file_io.h \
 ../include/apr_time.h ../include/apr_thread_proc.h \
 ../include/apr_md5.h
htpasswd.o: htpasswd.c ../include/apr_signal.h \
 ../include/apr_general.h ../include/apr.h ../include/apr_errno.h \
 ../include/apr_lib.h ../include/apr_file_io.h ../include/apr_time.h \
 ../include/apr_thread_proc.h
logresolve.o: logresolve.c ../include/apr_config.h
mod_test.o: mod_test.c
rotatelogs.o: rotatelogs.c ../include/apr_config.h
server.o: server.c ../include/apr_network_io.h \
 ../include/apr_general.h ../include/apr.h ../include/apr_errno.h \
 ../include/apr_file_io.h ../include/apr_time.h
testargs.o: testargs.c ../include/apr_file_io.h \
 ../include/apr_general.h ../include/apr.h ../include/apr_errno.h \
 ../include/apr_time.h ../include/apr_lib.h \
 ../include/apr_thread_proc.h ../include/apr_getopt.h
testcontext.o: testcontext.c ../include/apr_file_io.h \
 ../include/apr_general.h ../include/apr.h ../include/apr_errno.h \
 ../include/apr_time.h ../include/apr_lib.h \
 ../include/apr_thread_proc.h
testdso.o: testdso.c ../include/apr_config.h ../include/apr_general.h \
 ../include/apr.h ../include/apr_errno.h ../include/apr_pools.h \
 ../include/apr_lib.h ../include/apr_file_io.h ../include/apr_time.h \
 ../include/apr_thread_proc.h ../include/apr_dso.h
testfile.o: testfile.c ../include/apr_file_io.h \
 ../include/apr_general.h ../include/apr.h ../include/apr_errno.h \
 ../include/apr_time.h ../include/apr_lib.h \
 ../include/apr_thread_proc.h
testmmap.o: testmmap.c ../include/apr_mmap.h ../include/apr_general.h \
 ../include/apr.h ../include/apr_errno.h ../include/apr_network_io.h \
 ../include/apr_file_io.h ../include/apr_time.h \
 ../include/apr_portable.h ../include/apr_thread_proc.h \
 ../include/apr_lock.h ../include/apr_lib.h
testpipe.o: testpipe.c ../include/apr_file_io.h \
 ../include/apr_general.h ../include/apr.h ../include/apr_errno.h \
 ../include/apr_time.h ../include/apr_lib.h \
 ../include/apr_thread_proc.h
testproc.o: testproc.c ../include/apr_thread_proc.h \
 ../include/apr_file_io.h ../include/apr_general.h ../include/apr.h \
 ../include/apr_errno.h ../include/apr_time.h ../include/apr_lib.h \
 /usr/include/errno.h
testshmem.o: testshmem.c ../include/apr_shmem.h ../include/apr.h \
 ../include/apr_general.h ../include/apr_errno.h ../include/apr_lock.h \
 ../include/apr_lib.h ../include/apr_file_io.h ../include/apr_time.h \
 ../include/apr_thread_proc.h /usr/include/errno.h
testsock.o: testsock.c ../include/apr_thread_proc.h \
 ../include/apr_file_io.h ../include/apr_general.h ../include/apr.h \
 ../include/apr_errno.h ../include/apr_time.h ../include/apr_lib.h
testthread.o: testthread.c ../include/apr_thread_proc.h \
 ../include/apr_file_io.h ../include/apr_general.h ../include/apr.h \
 ../include/apr_errno.h ../include/apr_time.h ../include/apr_lock.h \
 /usr/include/errno.h
testtime.o: testtime.c ../include/apr_time.h ../include/apr_general.h \
 ../include/apr.h ../include/apr_errno.h /usr/include/errno.h
