
PROGRAMS = \
	client@EXEEXT@ \
	sendfile@EXEEXT@ \
	server@EXEEXT@ \
	testfile@EXEEXT@ \
	testnames@EXEEXT@ \
	testflock@EXEEXT@ \
	testproc@EXEEXT@ \
	testsock@EXEEXT@ \
	testthread@EXEEXT@ \
	testtime@EXEEXT@ \
	testargs@EXEEXT@ \
	testcontext@EXEEXT@ \
	testmmap@EXEEXT@ \
	testshmem@EXEEXT@ \
	testpipe@EXEEXT@ \
	testdso@EXEEXT@ \
	testoc@EXEEXT@ \
	testuuid@EXEEXT@ \
        testsockopt@EXEEXT@ \
        testipsub@EXEEXT@ \
        testmd5@EXEEXT@ \
        testpoll@EXEEXT@ \
	occhild@EXEEXT@ \
	mod_test.so

TARGETS = $(PROGRAMS)

# bring in rules.mk for standard functionality
@INCLUDE_RULES@

LOCAL_LIBS=../libapr.la ../shmem/unix/mm/libmm.la

CLEAN_TARGETS = testfile.tmp

INCDIR=../include
INCLUDES=-I$(INCDIR)


testfile@EXEEXT@: testfile.lo $(LOCAL_LIBS)
	$(LINK) testfile.lo $(LOCAL_LIBS) $(ALL_LIBS)

testnames@EXEEXT@: testnames.lo $(LOCAL_LIBS)
	$(LINK) testnames.lo $(LOCAL_LIBS) $(ALL_LIBS)

testflock@EXEEXT@: testflock.lo $(LOCAL_LIBS)
	$(LINK) testflock.lo $(LOCAL_LIBS) $(ALL_LIBS)

### why the export-dynamic?
testdso@EXEEXT@: testdso.lo $(LOCAL_LIBS)
	$(LINK) --export-dynamic testdso.lo $(LOCAL_LIBS) $(ALL_LIBS)

testoc@EXEEXT@: testoc.lo $(LOCAL_LIBS)
	$(LINK) testoc.lo $(LOCAL_LIBS) $(ALL_LIBS)

occhild@EXEEXT@: occhild.lo $(LOCAL_LIBS)
	$(LINK) occhild.lo $(LOCAL_LIBS) $(ALL_LIBS)

mod_test.so: mod_test.lo $(LOCAL_LIBS)
	$(LINK) -shared mod_test.o $(LOCAL_LIBS) $(ALL_LIBS)

testargs@EXEEXT@: testargs.lo $(LOCAL_LIBS)
	$(LINK) testargs.lo $(LOCAL_LIBS) $(ALL_LIBS)

testcontext@EXEEXT@: testcontext.lo $(LOCAL_LIBS)
	$(LINK) testcontext.lo $(LOCAL_LIBS) $(ALL_LIBS)

testproc@EXEEXT@: testproc.lo $(LOCAL_LIBS)
	$(LINK) testproc.lo $(LOCAL_LIBS) $(ALL_LIBS)

testthread@EXEEXT@: testthread.lo $(LOCAL_LIBS)
	$(LINK) testthread.lo $(LOCAL_LIBS) $(ALL_LIBS)

testsock@EXEEXT@: testsock.lo client@EXEEXT@ server@EXEEXT@ sendfile@EXEEXT@ $(LOCAL_LIBS)
	$(LINK) testsock.lo $(LOCAL_LIBS) $(ALL_LIBS)

client@EXEEXT@: client.lo $(LOCAL_LIBS)
	$(LINK) client.lo $(LOCAL_LIBS) $(ALL_LIBS)

server@EXEEXT@: server.lo sendfile.lo $(LOCAL_LIBS)
	$(LINK) server.lo $(LOCAL_LIBS) $(ALL_LIBS)

sendfile@EXEEXT@: sendfile.lo $(LOCAL_LIBS)
	$(LINK) sendfile.lo $(LOCAL_LIBS) $(ALL_LIBS)

testtime@EXEEXT@: testtime.lo $(LOCAL_LIBS)
	$(LINK) testtime.lo $(LOCAL_LIBS) $(ALL_LIBS)

testmmap@EXEEXT@: testmmap.lo $(LOCAL_LIBS)
	$(LINK) testmmap.lo $(LOCAL_LIBS) $(ALL_LIBS)

testshmem@EXEEXT@: testshmem.lo $(LOCAL_LIBS)
	$(LINK) testshmem.lo $(LOCAL_LIBS) $(ALL_LIBS)

testpipe@EXEEXT@: testpipe.lo $(LOCAL_LIBS)
	$(LINK) testpipe.lo $(LOCAL_LIBS) $(ALL_LIBS)

testuuid@EXEEXT@: testuuid.lo $(LOCAL_LIBS)
	$(LINK) testuuid.lo $(LOCAL_LIBS) $(ALL_LIBS)

testsockopt@EXEEXT@: testsockopt.lo $(LOCAL_LIBS)
	$(LINK) testsockopt.lo $(LOCAL_LIBS) $(ALL_LIBS)

testipsub@EXEEXT@: testipsub.lo $(LOCAL_LIBS)
	$(LINK) testipsub.lo $(LOCAL_LIBS) $(ALL_LIBS)

testmd5@EXEEXT@: testmd5.lo $(LOCAL_LIBS)
	$(LINK) testmd5.lo $(LOCAL_LIBS) $(ALL_LIBS)

testpoll@EXEEXT@: testpoll.lo $(LOCAL_LIBS)
	$(LINK) testpoll.lo $(LOCAL_LIBS) $(ALL_LIBS)

# DO NOT REMOVE
