
PROGRAMS = \
	client@EXEEXT@ \
	sendfile@EXEEXT@ \
	server@EXEEXT@ \
	testfile@EXEEXT@ \
	testnames@EXEEXT@ \
	testflock@EXEEXT@ \
	testproc@EXEEXT@ \
	testsock@EXEEXT@ \
	testthread@EXEEXT@ \
	testtime@EXEEXT@ \
	testargs@EXEEXT@ \
	testcontext@EXEEXT@ \
	testmmap@EXEEXT@ \
	testshmem@EXEEXT@ \
	testpipe@EXEEXT@ \
	testdso@EXEEXT@ \
	testoc@EXEEXT@ \
	testuuid@EXEEXT@ \
        testsockopt@EXEEXT@ \
        testipsub@EXEEXT@ \
        testmd5@EXEEXT@ \
        testpoll@EXEEXT@ \
	occhild@EXEEXT@ \
	mod_test.so

TARGETS = $(PROGRAMS)

# bring in rules.mk for standard functionality
@INCLUDE_RULES@

LIBS=../libapr.la ../shmem/unix/mm/libmm.la $(LIBS)

CLEAN_TARGETS = testfile.tmp

INCDIR=../include
INCLUDES=-I$(INCDIR)


testfile@EXEEXT@: testfile.lo ../libapr.la
	$(LINK) testfile.lo

testnames@EXEEXT@: testnames.lo ../libapr.la
	$(LINK) testnames.lo

testflock@EXEEXT@: testflock.lo ../libapr.la
	$(LINK) testflock.lo

### why the export-dynamic?
testdso@EXEEXT@: testdso.lo ../libapr.la
	$(LINK) --export-dynamic testdso.lo

testoc@EXEEXT@: testoc.lo ../libapr.la
	$(LINK) testoc.lo

occhild@EXEEXT@: occhild.lo ../libapr.la
	$(LINK) occhild.lo

mod_test.so: mod_test.lo ../libapr.la
	$(LINK) -shared mod_test.o

testargs@EXEEXT@: testargs.lo ../libapr.la
	$(LINK) testargs.lo

testcontext@EXEEXT@: testcontext.lo ../libapr.la
	$(LINK) testcontext.lo

testproc@EXEEXT@: testproc.lo ../libapr.la
	$(LINK) testproc.lo

testthread@EXEEXT@: testthread.lo ../libapr.la
	$(LINK) testthread.lo

testsock@EXEEXT@: testsock.lo client@EXEEXT@ server@EXEEXT@ sendfile@EXEEXT@ ../libapr.la
	$(LINK) testsock.lo

client@EXEEXT@: client.lo ../libapr.la
	$(LINK) client.lo

server@EXEEXT@: server.lo sendfile.lo ../libapr.la
	$(LINK) server.lo

sendfile@EXEEXT@: sendfile.lo ../libapr.la
	$(LINK) sendfile.lo

testtime@EXEEXT@: testtime.lo ../libapr.la
	$(LINK) testtime.lo

testmmap@EXEEXT@: testmmap.lo ../libapr.la
	$(LINK) testmmap.lo

testshmem@EXEEXT@: testshmem.lo ../libapr.la
	$(LINK) testshmem.lo

testpipe@EXEEXT@: testpipe.lo ../libapr.la
	$(LINK) testpipe.lo

testuuid@EXEEXT@: testuuid.lo ../libapr.la
	$(LINK) testuuid.lo

testsockopt@EXEEXT@: testsockopt.lo ../libapr.la
	$(LINK) testsockopt.lo

testipsub@EXEEXT@: testipsub.lo ../libapr.la
	$(LINK) testipsub.lo

testmd5@EXEEXT@: testmd5.lo ../libapr.la
	$(LINK) testmd5.lo

testpoll@EXEEXT@: testpoll.lo ../libapr.la
	$(LINK) testpoll.lo

# DO NOT REMOVE
