
TARGETS = \
	client@EXEEXT@ \
	sendfile@EXEEXT@ \
	server@EXEEXT@ \
	testfile@EXEEXT@ \
	testflock@EXEEXT@ \
	testproc@EXEEXT@ \
	testsock@EXEEXT@ \
	testthread@EXEEXT@ \
	testtime@EXEEXT@ \
	testargs@EXEEXT@ \
	testcontext@EXEEXT@ \
	testmmap@EXEEXT@ \
	testshmem@EXEEXT@ \
	testpipe@EXEEXT@ \
	testdso@EXEEXT@ \
	testoc@EXEEXT@ \
	testuuid@EXEEXT@ \
	occhild.so \
	mod_test.so

LIBS=../libapr.a @LIBS@ 

# bring in rules.mk for standard functionality
@INCLUDE_RULES@

CLEAN_TARGETS = testfile.tmp

CFLAGS = -g @CFLAGS@ @OPTIM@

INCDIR=../include
INCLUDES=-I$(INCDIR)


testfile@EXEEXT@: testfile.lo
	$(LINK) testfile.lo

testflock@EXEEXT@: testflock.lo
	$(LINK) testflock.lo

### why the export-dynamic?
testdso@EXEEXT@: testdso.lo
	$(LINK) --export-dynamic testdso.lo

testoc@EXEEXT@: testoc.lo
	$(LINK) testoc.lo

occhild.so: occhild.lo
	$(LINK) --module occhild.lo

mod_test.so: mod_test.lo
	$(LINK) --module mod_test.lo

testargs@EXEEXT@: testargs.lo
	$(LINK) testargs.lo

testcontext@EXEEXT@: testcontext.lo
	$(LINK) testcontext.lo

testproc@EXEEXT@: testproc.lo
	$(LINK) testproc.lo

testthread@EXEEXT@: testthread.lo
	$(LINK) testthread.lo

testsock@EXEEXT@: testsock.lo client@EXEEXT@ server@EXEEXT@ sendfile@EXEEXT@
	$(LINK) testsock.lo

client@EXEEXT@: client.lo
	$(LINK) client.lo

server@EXEEXT@: server.lo sendfile.lo
	$(LINK) server.lo

sendfile@EXEEXT@: sendfile.lo
	$(LINK) sendfile.lo

testtime@EXEEXT@: testtime.lo
	$(LINK) testtime.lo

testmmap@EXEEXT@: testmmap.lo
	$(LINK) testmmap.lo

testshmem@EXEEXT@: testshmem.lo
	$(LINK) testshmem.lo

testpipe@EXEEXT@: testpipe.lo
	$(LINK) testpipe.lo

testuuid@EXEEXT@: testuuid.lo
	$(LINK) testuuid.lo

# DO NOT REMOVE
