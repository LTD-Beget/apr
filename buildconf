#!/bin/sh

#
# Create the libtool helper files
#
# Note: we copy (rather than link) them to simplify distribution.
# Note: APR supplies its own config.guess and config.sub -- we do not
#       rely on libtool's versions
#
echo "Copying libtool helper files ..."
#
libtoolize=`build/PrintPath glibtoolize libtoolize`
ltpath=`dirname $libtoolize`
ltfile=`cd $ltpath/../share/aclocal ; pwd`/libtool.m4
cp -f $ltfile build/
$libtoolize --copy --automake

#
# Generate the autoconf header and ./configure
#
echo "Creating include/arch/unix/apr_private.h.in ..."
autoheader

echo "Creating configure ..."
### do some work to toss config.cache?
autoconf

(cd shmem/unix/mm && autoconf)
